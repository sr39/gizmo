%----  Relevant files
InitCondFile  /work/01799/phopkins/sim_ICs/ics_z10n192_B1hr
OutputDir     /scratch/01799/phopkins/B1_lr_fixg_51

EnergyFile          energy.txt
InfoFile            info.txt
TimingsFile         timings.txt
CpuFile             cpu.txt
RestartFile         restart
SnapshotFileBase    snapshot
TimebinFile         timebin.txt
OutputListFilename  output_times.txt  % list of times for snaps

%---- File formats
ICFormat           1  % 1=binary, 3=hdf5, 4=cluster
SnapFormat         3  % 1=binary, 3=hdf5

%---- CPU-time limits
TimeLimitCPU              100000	% in seconds
CpuTimeBetRestartFile     7200  	% in seconds
ResubmitOn        0
ResubmitCommand   my-scriptfile

%----- Memory alloction
MaxMemSize       1800   % sets maximum memory use in MByte
PartAllocFactor   5.0   % memory load allowed for better cpu balance
BufferSize        100   % in MByte

%---- Characteristics of run
TimeBegin           0.01      % Begin of the simulation
TimeMax             1.0       % End of the simulation

%---- Basic code options that set the type of simulation
ComovingIntegrationOn    1
PeriodicBoundariesOn     1
CoolingOn                1
StarformationOn          1

%---- Cosmological parameters
Omega0                0.27
OmegaLambda           0.73
OmegaBaryon           0.044
HubbleParam           0.7
BoxSize               10000.0

%---- Output frequency and output paramaters
OutputListOn              1 % =1 to use list in "OutputListFilename"
TimeBetSnapshot           1.1
TimeOfFirstSnapshot       0.1
TimeBetStatistics         0.05
NumFilesPerSnapshot        1
NumFilesWrittenInParallel  32

%---- Accuracy of time integration
TypeOfTimestepCriterion  0	% 0=standard
ErrTolIntAccuracy        0.012	% <0.02
CourantFac               0.1 	% <0.20
MaxRMSDisplacementFac    0.125	% <0.25
MaxSizeTimestep          0.005
MinSizeTimestep          1.0e-8

%---- Tree algorithm, force accuracy, domain update frequency
TypeOfOpeningCriterion       1		% 1=standard
ErrTolTheta                  0.7	% 0.7=standard
ErrTolForceAcc               0.005 	% 0.0025=standard
TreeDomainUpdateFrequency    0.005	% depends on processor and particle num 
% if imbalance dominates runtime, try decreasing value here: 0.0005-0.05

%---- Density estimation (kernel)
DesNumNgb              62	% 32 for standard kernel, 60-114 for quintic
MaxNumNgbDeviation     2

%---- Artificial viscosity 
ArtBulkViscConst    	1.0	% standard (constant) artificialviscosity 
%---- Time-dependent (M&M97+Balsara+Price04) viscosity
%ArtBulkViscConst        2.00 	% maximum allowed ArtBulkViscConst
%ViscositySourceScaling  2.77 	% functions as alphamax-multiplier for sourcevisc
%ViscosityDecayLength    3.73 	% multiplies length of falloff outside shock
%ViscosityAlphaMin       0.15 	% minimum ArtBulkViscConst outside shocks
%---- P&M artificial conductivity (if present); normalized to Alpha_Visc:
ArtCondConstant         0.50     % artificial conductivity (multiplier)
%---- Cullen & Dehnen viscosity suppression
ViscosityAMin           0.025 % minimum viscosity away from shocks
ViscosityAMax           2.00 % maximum viscosity in shocks
%---- Turbulent Diffusion Master Switch (TURB_DIFFUSION on)
TurbDiffusionCoefficient  1.0 % Normalizes diffusion rates, should be ~1

%-------------- MHD Parameters (ideal SPH MHD); like Courant time, etc, don't modify if you aren't sure
%--- Artificial resistivity (parallel role to artificial viscosity)
ArtificialMagneticDissipationConstant   1.00 % maximum alpha_B (>~1)
ArtificialMagneticDissipationMin        0.10 % min alpha_B (TP recommend 0)
ArtificialMagneticDissipationSource     1.00 % multiplies alpha_B growth (~1)
ArtificialMagneticDissipationDecaytime  0.10 % ~0.1 (similar to AV_CD10_VISCOSITY_SWITCH parameter)
%--- Div-cleaning parameters
DivBcleaningParabolicSigma   1.0 % (3D~0.7-1.0,2D~0.2-0.3)
DivBcleaningHyperbolicSigma  1.0 % (~1)
DivBcleaningQ                0.5 % (restricts cleaning to this fraction of |dB/dt| from other sources; 
                                 %  keep large unless div-cleaner crashes, then be more conservative and set~0.5)
%--- Initial Magnetic Field Strengths if uniform (BINI set) (in Gauss)
BiniX 1.0e-8
BiniY 1.0e-8
BiniZ 1.0e-8



%---- System of units
UnitLength_in_cm         3.085678e21	%  1.0 kpc
UnitMass_in_g            1.989e43  	%  1.0e10 solar masses
UnitVelocity_in_cm_per_s 1e5       	%  1 km/sec
GravityConstantInternal  0		% calculated by code if =0

%---- Gravitational softening lengths
MaxHsml 200.0
MinGasHsmlFractional 0.3  % minimum gas smoothing in terms of softening
%----- Softening lengths per particle type. If ADAPTIVE_GRAVSOFT_FORALL is set, these 
%-------- are the minimum softening allowed for each type -------
SofteningGas       0.0014
SofteningHalo      0.020
SofteningDisk      0.0019
SofteningBulge     0.007
SofteningStars     0.0014
SofteningBndry     0.003
%---- if these are set (cosmo runs), softening is capped at these physical values 
SofteningGasMaxPhys       0.0375
SofteningHaloMaxPhys      0.06875 # hires halo particles: ~116pc * (mp/1e5 msun)^(1/3) / (concentration/10) (quintic)
SofteningDiskMaxPhys      0.275 # lores dm: scale as mp^1/3
SofteningBulgeMaxPhys     0.275 # lores dm particles: (mean IGM densities): ~6.8kpc*(mp/1e5msun)^(1/3)
SofteningStarsMaxPhys     0.0375
SofteningBndryMaxPhys     0.0375
%----- parameters for adaptive gravitational softening
AGS_DesNumNgb             32  % neighbor number for calculating adaptive gravsoft
AGS_MaxNumNgbDeviation     8  % tolerance in Nngb (make larger than SPH)


%---- Initial temperature & temperature floor
InitGasTemp           300	% set by IC file if =0
MinGasTemp             10.	% don't set <10 in explicit feedback runs


%---- Parameters for star formation model
CritPhysDensity      10.    %  critical physical density for star formation (cm^(-3))
MaxSfrTimescale      0.84    %  in internal time units
CritOverDensity      100.    %  overdensity threshold value

%---- sub-grid (S&H effective EOS) star formation & feedback model
TempSupernova        3.0e8   	 % in Kelvin
TempClouds           1000.0  	 % in Kelvin
FactorSN             0.1	 % SNe coupling frac
FactorEVP            3000.0	 % controls Kennicutt normalization
FactorForSofterEQS   1.0	 % interpolate between 'stiff' and isothermal EOS
WindEfficiency          2       % mass-loading scales~(WindEfficiency/WindEnergyFraction)
WindFreeTravelLength    20      % wind travels until local tau <WindFreeTravelLength
WindEnergyFraction      0.0625  % velocity-boosting of winds
WindFreeTravelDensFac   0.1     % free-stream to density<WindFreeTravelDensFac*(launch density)
WindFreeTravelMaxTimeFactor 0.1

%-------------- PFH explicit star formation & feedback model
%--- initial metallicity of gas & stars in simulation
InitMetallicity        0.0001 % (in solar)
InitStellarAge         0.001  % mean age (in Gyr)

%--- local radiation-pressure driven winds (GALSF_FB_RPWIND_LOCAL)
WindMomentumLoading          1.0 % momentum-loading (normalization relative to ssp)
WindInitialVelocityBoost     1.0 % velocity-boost factor
WindFreeTravelTauCriterion   0   % free-stream to < this tau (0=no stream)
WindFreeTravelRhoCriterion   0   % free-stream to < this fraction of rho_launch (0=nostream)

%--- SneII Heating Model (GALSF_FB_SNE_HEATING)
SNeIIEnergyFrac              1.0 % fraction of mechanical energy to couple
SNeIIBW_Radius_Factor        1.0 % increase BW radius by this factor

%--- HII region photo-heating model (GALSF_FB_HII_HEATING) 
HIIRegion_Temp            10000. % temperature (in K) of heated gas
HIIRegion_fLum_Coupled       1.0 % fraction of UV luminosity to use

%--- long-range radiation pressure acceleration (GALSF_FB_RT_PHOTONMOMENTUM)
PhotonMomentum_Coupled_Fraction   1.0 % fraction of L to allow incident
PhotonMomentum_fUV   0.01 % incident SED f(L) in UV (minimum scattering)
PhotonMomentum_fOPT  0.01 % incident SED f(L) in optical/near-IR
PhotonMomentum_fIR   0.98 % incident SED f(L) in far-IR

%--- gas return/recycling (GALSF_FB_GASRETURN)
GasReturnFraction     1.0    % boost fraction of gas returns (relative to ssp)
AGBGasTemp            1.0    % boost temperature of gas returns (relative to ssp)


%-------------- Black Hole accretion & formation specifics
%--- formation/seed 
MinFoFMassForNewSeed       5.		% log(M_halo) for on-the-fly FoF seeding
SeedBlackHoleMass          1.0e-7 	% initial mass (on-the-fly or single galaxy)

%--- accretion 
BlackHoleAccretionFactor   1.0		% multiplier for mdot
BlackHoleEddingtonFactor   1.0		% fraction of eddington to cap (can be >1)
BlackHoleNgbFactor         3.0		% multiplier for kernel neighbors for BH
BlackHoleMaxAccretionRadius 0.02	% max radius for BH neighbor search/accretion
BlackHoleRadiativeEfficiency 0.1    % radiative efficiency

%--- feedback
BlackHoleFeedbackFactor    1.0		% generic feedback strength multipluer
BH_FluxMomentumFactor      1.0		% fraction of L for radiation pressure (BH_PHOTONMOMENTUM)
BAL_f_accretion            0.5      % fraction of gas swallowed by BH (BH_BAL_WINDS)
BAL_v_outflow              30000.0	% velocity (km/s) of BAL wind outflow (BH_BAL_WINDS)
TimeBetOnTheFlyFoF        200000    % needed if BHs or Mhalo-based winds active

